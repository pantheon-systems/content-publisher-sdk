import { PCCConvenienceFunctions } from "@pantheon-systems/pcc-react-sdk/server";
import { ArticleGrid } from "../../components/grid";
import Layout from "../../components/layout";
import PageHeader from "../../components/page-header";

export default async function ArticlesListTemplate() {
  const { data: articles } = await PCCConvenienceFunctions.getPaginatedArticles(
    {
      pageSize: 20,
    },
  );

  return (
    <Layout>
      <section className="max-w-screen-3xl mx-auto px-4 pt-16 sm:w-4/5 md:w-3/4 lg:w-4/5 2xl:w-3/4">
        <PageHeader title="Articles" />

        <ArticleGrid articles={articles} />
      </section>
    </Layout>
  );
}

export function generateMetadata() {
  return {
    title: "Decoupled Next PCC Demo",
    description: "Generated by create-pantheon-decoupled-kit.",
  };
}
